<!doctype html>

<html lang="en">

<head>
  <title>Fission Serverless Platform - Arquitetura de Software</title>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Documentação arquitetural produzida pelas turmas de Arquitetura de Software - Computação @ UFCG." />
<meta name="author" content="Example" /><meta property="og:title" content="Fission Serverless Platform" />
<meta property="og:description" content="Este documento descreve diversos aspectos arquiteturais da plataforma de computação serverless para funções-como-serviço - Fission. A promessa dessa plataforma é permitir que desenvolvedores se concentrem unicamente na tarefa de implementação da lógica de negócio, deixando os detalhes de implantação sobre a responsabilidade da plataforma." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://joaoarthurbm.github.io/arqsoft-blog/posts/fission/" />
<meta property="article:published_time" content="2020-10-10T00:00:00-03:00" />
<meta property="article:modified_time" content="2020-10-10T00:00:00-03:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Fission Serverless Platform"/>
<meta name="twitter:description" content="Este documento descreve diversos aspectos arquiteturais da plataforma de computação serverless para funções-como-serviço - Fission. A promessa dessa plataforma é permitir que desenvolvedores se concentrem unicamente na tarefa de implementação da lógica de negócio, deixando os detalhes de implantação sobre a responsabilidade da plataforma."/>

<meta name="generator" content="Hugo 0.75.1" />
    

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://joaoarthurbm.github.io/arqsoft-blog/fontawesome/css/all.min.css" />
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  
  
  <link rel="stylesheet" type="text/css" href="https://joaoarthurbm.github.io/arqsoft-blog/css/styles.css" /></head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="https://joaoarthurbm.github.io/arqsoft-blog/">Arquitetura de Software</a>
            </h1>

      <ul id="social-media">
             <li>
               <a href="https://github.com/joaoarthurbm/arqsoft-blog" title="GitHub">
               <i class="fab fa-github fa-lg"></i>
               </a>
             </li>
      </ul>
      
      <p><em>Conteúdo produzido pelas turmas de Arquitetura de Software - Computação @ UFCG</em></p>
      
    </header>

    
<nav>
    <ul>
        
    </ul>
</nav>


    <main>




<article>

    <h1>Fission Serverless Platform</h1>

    
      <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2020-10-10T00:00:00-03:00">Oct 10, 2020</time>
        </li>
        

        

        <li>6 minutes read</li>
    </ul>
</aside>

    

    


    <hr>
<p>Este documento descreve diversos aspectos arquiteturais da plataforma de
computação <em>serverless</em> para funções-como-serviço - <em>Fission</em>.
A promessa dessa plataforma é permitir que desenvolvedores se concentrem
unicamente na tarefa de implementação da lógica de negócio, deixando os detalhes de
implantação sobre a responsabilidade da plataforma.</p>
<hr>
<h1 id="autor">Autor</h1>
<p>Este documento foi produzido por Paulo Feitosa.</p>
<ul>
<li>Matrícula: 116211477</li>
<li>Contato: <a href="mailto:paulo.felipe.silva@ccc.ufcg.edu.br">paulo.felipe.silva@ccc.ufcg.edu.br</a></li>
<li>Projeto documentado: <a href="https://github.com/fission/fission">https://github.com/fission/fission</a></li>
</ul>
<h1 id="descrição-arquitetural---fission-core-services">Descrição Arquitetural - Fission Core Services</h1>
<p>Este documento descreve parte da arquitetura do projeto
<a href="https://fission.io/">Fission</a>.
Essa descrição foi baseada principalmente no modelo <a href="https://c4model.com/">C4</a>.</p>
<p>É importante destacar que não será descrita toda a arquitetura da Fission.
O foco deste documento será a descrição arquitetural dos serviços de <em>core business</em> da
plataforma em questão.</p>
<h2 id="descrição-geral-sobre-o-fission">Descrição Geral sobre o <em>Fission</em>.</h2>
<p><em>Fission</em> é uma plataforma de computação serverless para funções-como-serviço que tem
como objetivo principal retirar dos desenvolvedores toda a carga de implantação de
software. Dessa forma, os programadores podem se preocupar apenas com os detalhes da
implementação da lógica de negócio.</p>
<p>A plataforma garante realizar automaticamente o <em>scale-up</em> e <em>scale-down</em> dos recursos
computacionais para executar as funções quando estiverem sobre uma alta ou baixa
utilização. Mais detalhes sobre a plataforma podem ser acessados
<a href="https://docs.fission.io/docs/">aqui</a>.</p>
<h2 id="fission-core-services"><em>Fission Core Services</em></h2>
<h3 id="objetivo-geral">Objetivo Geral</h3>
<p>O <em>Core Services</em> tem como principais objetivos:</p>
<ol>
<li>
<p>permitir a implantação de funções dentro da plataforma <em>Fission</em>;</p>
</li>
<li>
<p>autorizar o acesso de clientes às funções implantadas;</p>
</li>
</ol>
<h3 id="objetivos-específicos">Objetivos Específicos</h3>
<p>Para alcançar os objetivos gerais, o <em>Core Services</em> provê uma API REST que é ponto
de entrada de diversas operações da plataforma. A API permite a realização de CRUD
de funções por desenvolvedores, dessa forma, o <em>Core Services</em> é o responsável por
interagir com os serviços internos para que a operação seja concluída.</p>
<p>Além disso, depois de implantada a função pode ser invocada pelos seus clientes.
Neste caso, a API deve rotear as requisições HTTP para as instâncias que executam
o código-fonte da função.</p>
<h3 id="contexto">Contexto</h3>
<p>O diagrama abaixo apresenta os principais sistemas que interagem com o <em>Core Services</em>,
assim como as suas responsabilidades.</p>
<p><img src="Fission-Architecture.png" alt="contexto"></p>
<h4 id="eventos-de-entrada">Eventos de entrada</h4>
<p>Podemos observar que o <em>Core Services</em>, como já descrito anteriormente, também funciona
como o <em>Back-end</em> da <em>Fission</em>. Os Desenvolvedores e seus Clientes podem interagir
com a plataforma por meio do <em>Front-end</em> ou do <em>Fission CLI</em> (um software de linha
de comando).</p>
<p>Quando os Desenvolvedores realizam a implantação de uma função, a plataforma
disponibiliza um <em>endpoint</em> que pode ser acessado para invocar a execução da função.
Assim, a forma mais comum dos Clientes interagirem com a plataforma é
pelo disparo de requisições HTTP para invocar funções.</p>
<h4 id="eventos-de-saída">Eventos de saída</h4>
<p>Como o <em>Core Services</em> é o ponto de entrada da plataforma, pode ser razoável imaginar
que todos os recursos sejam resolvidos por esse componente, contudo, diversas tarefas
são delegadas para outros componentes.</p>
<p>Como apresentado no diagrama acima, o <em>Kubernetes</em> é responsável por gerenciar os
recursos computacionais para permitir que as funções processem requisições dos seus
clientes. Dessa forma, o <em>Core Services</em> precisa interagir com o Kubernetes para
realizar o CRUD de funções, além de consultar os endereços das réplicas da função
para roteá-las. O <em>Kubernetes</em> também é o responsável por realizar o escalonamento
das instâncias em execução da função com base na métrica de utilização de CPU.</p>
<p>Quando um desenvolvedor realiza o <em>deployment</em> de uma função, o <em>Core Services</em> se
encarrega de transformar o código-fonte em uma função implantável. Após o processo de
<em>build</em>, o <em>StorageSVC</em> é o responsável por armazenar os artefatos de
implantação resultantes. Dessa forma, quando necessário, o <em>Kubernetes</em> pode recuperar
esses artefatos para criar novas réplicas da função.</p>
<p>Além disso, o <em>Core Services</em> também funciona como um <em>Proxy</em> para serviços externos
que pode ser oferecidos por terceiros dentro da plataforma.</p>
<h3 id="containers">Containers</h3>
<p>O diagrama abaixo apresenta os serviços que compõem o <em>Fission Core Services</em> assim
como as suas responsabilidades e interações com outros sistemas.</p>
<p><img src="Fission-Architecture-Container.png" alt="containers"></p>
<p>Como podemos observar, o <em>Core Services</em> é composto pelos serviços: <em>Controller</em>,
<em>Router</em>, <em>Executor</em>, <em>Function Pod</em> e <em>Builder Manager</em>.</p>
<p>O <em>Controller</em> expõe uma API que pode ser acessada pelos usuários da plataforma
via <em>Fission CLI</em> ou <em>Fission UI</em>. O <em>Controller</em> também funciona como <em>Gateway</em>
para os serviços internos e externos da plataforma.</p>
<h4 id="crud-de-funções">CRUD de funções</h4>
<p>Quando o <em>Controller</em> recebe uma requisição para realizar o <em>CRUD</em> de funções, ela
é repassada para o <em>Kubernetes</em> via
<a href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/">CRDs</a>
que armazena informações sobre a função e o seu código-fonte. O <em>Builder Manager</em>
observa os eventos de <em>CRUD</em> e dispara o processo de transformar o código-fonte da
função em um artefato executável.</p>
<p>Após o processo de <em>build</em> da função, o <em>Builder Manager</em> armazena os artefatos
resultantes no <em>StorageSVC</em> para que, posteriormente, possa ser recuperado e usado
na criação de novas réplicas da função.</p>
<h4 id="invocação-de-funções">Invocação de funções</h4>
<p>Quando o <em>Controller</em> recebe uma requisição HTTP para disparar a execução de uma
função, ele repassa a responsabilidade para o <em>Router</em>. O <em>Router</em> em seguida
consulta o <em>Executor</em> para saber se existe alguma instância/réplica da função
disponível para processar a requisição recebida. Se existir, o <em>Router</em> apenas
encaminha a requisição para a réplica. Caso contrário, o <em>Router</em> requisita ao
<em>Executor</em> a criação de novas instâncias da função via <em>Function Pod</em>.</p>
<p><em>Function Pod</em> é o serviço responsável por carregar e executar uma função, para isso
ele realiza o <em>download</em> da função executável no <em>StorageSVC</em>, cria um processo para
a função quee aceita requisições via um servidor HTTP. Dessa forma, o <em>Router</em> pode
encaminhar as requisições para o servidor HTTP associado à função.</p>
<h3 id="componentes">Componentes</h3>
<p>O diagrama abaixo apresenta o diagrama de componentes do serviço <em>Function Pod</em>
que pertence ao <em>Fission Core Services</em>.</p>
<p><img src="Fission-Architecture-Components.png" alt="components"></p>
<p>Podemos observar que <em>Function Pod</em> possui dois componentes principais: <em>Fetcher</em> e
<em>Environment Container</em>. O <em>Fetcher</em> é o responsável por realizar o <em>download</em>
dos artefatos de <em>deployment</em> de uma função. Esses artefatos são compartilhados com
o <em>Environment Container</em> via um <em>Shared Volume</em>, ou seja, com o protocolo de
comunicação via <em>File System</em>.</p>
<p>Dessa forma, quando o <em>Fetcher</em> requisita a inicialização da função, o <em>Environment
Container</em> cria um processo que carrega a função executável, que por meio de um
servidor HTTP pode processar as requisições encaminhadas pelo <em>Router</em>.</p>
<h3 id="visão-da-informação">Visão da informação</h3>
<p>A máquina de estados abaixo apresenta a visão da informação do estado das funções
dentro da plataforma <em>Fission</em>.</p>
<p><img src="Fission-Architecture-Visao-da-Informacao.png" alt="informacao"></p>
<p>O diagrama expõe os possíveis estados de uma função assim como as possíveis
transições dos estados. Os estados mais importantes são: <strong>Implantada</strong> e
<strong>Disponível</strong>.</p>
<p>Quando uma função está <strong>Implantada</strong>, significa que os seus artefatos
de implantação estão disponíveis no <em>StorageSVC</em>, porém não existe nenhuma
réplica/instância da função disponível. Por outro lado, quando uma função está
implantada e existe pelo menos uma réplica da função em execução, então a função
é classificada como <strong>Disponível</strong>.</p>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="https://joaoarthurbm.github.io/arqsoft-blog/posts/fzf/"><i class="fa fa-chevron-circle-left"></i> fzf - command-line fuzzy finder</a>
        </li>
        
        
        <li>
            <a href="https://joaoarthurbm.github.io/arqsoft-blog/posts/saps/">Documentação arquitetural para o SAPS <i class="fa fa-chevron-circle-right"></i> </a>
        </li>
        
    </ul>
</section>
  
    
    
  





</main>
    <footer>
        <h6>Copyright © Turma de Arquitetura de Software UFCG |
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="https://joaoarthurbm.github.io/arqsoft-blogindex.xml">Subscribe </a></h6>
    </footer>
</div>
<script src="https://joaoarthurbm.github.io/arqsoft-blog/js/scripts.js"></script>

</body>

</html>

