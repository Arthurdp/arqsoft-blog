<!doctype html>

<html lang="en">

<head>
  <title>Fila da Creche - Documento arquitetural - Arquitetura de Software</title>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Documentação arquitetural produzida pelas turmas de Arquitetura de Software - Computação @ UFCG." />
<meta name="author" content="Example" /><meta property="og:title" content="Fila da Creche - Documento arquitetural" />
<meta property="og:description" content="Autores Este documento foi produzido por Mateus de Lima Oliveira.
 Matrícula: 117110219 Contato: mateus.oliveira@ccc.ufcg.edu.br Projeto documentado: https://github.com/prefeiturasp/SME-FilaDaCreche  Descrição Arquitetural Este documento descreve parte da arquitetura do projeto Fila de Creche." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://joaoarthurbm.github.io/arqsoft-blog/posts/sme-fila-da-creche/" />
<meta property="article:published_time" content="2020-04-15T00:00:00-03:00" />
<meta property="article:modified_time" content="2020-04-15T00:00:00-03:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Fila da Creche - Documento arquitetural"/>
<meta name="twitter:description" content="Autores Este documento foi produzido por Mateus de Lima Oliveira.
 Matrícula: 117110219 Contato: mateus.oliveira@ccc.ufcg.edu.br Projeto documentado: https://github.com/prefeiturasp/SME-FilaDaCreche  Descrição Arquitetural Este documento descreve parte da arquitetura do projeto Fila de Creche."/>

<meta name="generator" content="Hugo 0.75.1" />
    

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://joaoarthurbm.github.io/arqsoft-blog/fontawesome/css/all.min.css" />
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  
  
  <link rel="stylesheet" type="text/css" href="https://joaoarthurbm.github.io/arqsoft-blog/css/styles.css" /></head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="https://joaoarthurbm.github.io/arqsoft-blog/">Arquitetura de Software</a>
            </h1>

      <ul id="social-media">
             <li>
               <a href="https://github.com/joaoarthurbm/arqsoft-blog" title="GitHub">
               <i class="fab fa-github fa-lg"></i>
               </a>
             </li>
      </ul>
      
      <p><em>Conteúdo produzido pelas turmas de Arquitetura de Software - Computação @ UFCG</em></p>
      
    </header>

    
<nav>
    <ul>
        
    </ul>
</nav>


    <main>




<article>

    <h1>Fila da Creche - Documento arquitetural</h1>

    
      <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2020-04-15T00:00:00-03:00">Apr 15, 2020</time>
        </li>
        

        

        <li>5 minutes read</li>
    </ul>
</aside>

    

    


    <h1 id="autores">Autores</h1>
<p>Este documento foi produzido por Mateus de Lima Oliveira.</p>
<ul>
<li>Matrícula: 117110219</li>
<li>Contato: <a href="mailto:mateus.oliveira@ccc.ufcg.edu.br">mateus.oliveira@ccc.ufcg.edu.br</a></li>
<li>Projeto documentado: <a href="https://github.com/prefeiturasp/SME-FilaDaCreche">https://github.com/prefeiturasp/SME-FilaDaCreche</a></li>
</ul>
<h1 id="descrição-arquitetural">Descrição Arquitetural</h1>
<p>Este documento descreve parte da arquitetura do projeto <a href="https://github.com/prefeiturasp/SME-FilaDaCreche">Fila de Creche</a>. Essa descrição foi baseada principalmente no modelo <a href="https://c4model.com/">C4</a>.
É importante destacar que este documento visa expor de forma mais abstrata como funciona o conjunto de ferramentas da aplicação e não necessariamente explicará em detalhes a sua implementação.</p>
<h2 id="descrição-geral-sobre-o-fila-de-creche">Descrição Geral sobre o Fila de Creche</h2>
<p>O Fila da Creche é um projeto com iniciativa da Secretaria Municipal de Educação de São Paulo que busca facilitar o acompanhamento de geração de vagas na educação infantil de acordo com localização e faixa etária informadas. Mais detahes sobre o projeto podem ser vistos <a href="https://educacao.sme.prefeitura.sp.gov.br/entenda-como-funciona-a-plataforma-vaga-na-creche/">nesse link</a>.</p>
<h3 id="objetivo-geral">Objetivo Geral</h3>
<p>Implementar, com transparência ativa, em linguagem simples e com acessibilidade digital, uma ferramenta para que os pais e famílias possam se programar e acompanhar a geração de vagas na educação infantil pela Secretaria Municipal de Educação de São Paulo.</p>
<h3 id="objetivos-específicos">Objetivos Específicos</h3>
<p>Permitir que a qualquer pessoa saber como está a espera por atendimento nos Centros de Educação Infantil (CEIs), de acordo com o endereço fornecido e a faixa etária informada. Ela pode ser acessada por qualquer dispositivo móvel (como celular) ou computador com acesso à internet, sem precisar de instalação (download), assim evitando desinformações e locomoção dos responsáveis.</p>
<h3 id="contexto">Contexto</h3>
<p>Como vemos no diagrama abaixo, o Fila da Creche é composto pelo frontend e uma API que fornece acessa os dados disponíveis em uma base de dados das matrículas na cidade de São Paulo, que são requisitados utilizando o protocolo HTTP.
De modo geral, o sistema funciona como um facilitador, entre o usuário e as bases de dados citadas, em que simplifica e filtra a obtenção de determinada informação de acordo com as informações passadas.</p>
<div align="center" style="margin: 2rem 0;">
    <img src="fig1-contexto.png">
    <span style="display:block;">
        Visão da informação do Dispatch
    </span>
</div>
<h3 id="containers">Containers</h3>
<p>O Fila da Creche é composto pelos três containers que serão descritos a seguir.</p>
<p>O primeiro deles é a Web Page, feita em React, que é responsável por pela interação com os usúarios do sistema e pela representação gráfica do sistema, ou seja, todo o HTML que o browser irá interpretar e renderizar para o usuário final.</p>
<p>O Banco de Dados é o container responsável por armazenar, de forma estruturada, todas as informações extraídas por meio do Airflow do banco de dados do Sistema Escola Online - EOL, onde tem as informações sobre o sistema de matricula múnicipal. Ele foi implementado em PostgreSQL e outros containers utilizam Psycopg.</p>
<p>O container API, é um conjunto de rotinas e padrões de programação para acesso das bases de dados do Fila da Creche. Ela foi implementada em Python juntamente com o framework Flask. Foram utilizados padrões REST e o acesso a esta API se dá por meio de requisições HTTP em formato JSON. Alguns dos endpoints disponíveis estão descritos a seguir.</p>
<p><strong>GET</strong> /v1/schools/radius/<a href="string:lon">string:lon</a>/<a href="string:lat">string:lat</a>'</p>
<p>Descrição: Retorna as escolas/creches em um raio de distância (1,5 KM) do ponto passado pela latitude <strong>(lat)</strong> e longitude <strong>(lon)</strong>.</p>
<p><strong>GET</strong> /v1/schools/radius/wait/<a href="string:lon">string:lon</a>/<a href="string:lat">string:lat</a>/<a href="int:groupCode">int:groupCode</a>'</p>
<p>Descrição: Retorna as escolas/creches em um raio de distância (1,5 KM) do ponto passado pela latitude <strong>(lat)</strong> e longitude <strong>(lon)</strong> com o tamanho das filas de espera para matrículas baseado no grupo da criança (definido a partir da idade).</p>
<p>O diagrama apresentado abaixo descreve os containers que compõem o Fila de Creche.</p>
<div align="center" style="margin: 2rem 0;">
    <img src="fig2-containers.png">
    <span style="display:block;">
        Visão da informação do Dispatch
    </span>
</div>
<h3 id="componentes">Componentes</h3>
<p>A fim de detalhamento, podemos dividir o container Frontend outros dois componentes: Utils e Pages.</p>
<p>O componente Utils, que usa Javascript, é composto por ações de verificação de registros, responsabilidade de fazer requests a API e calculos internos que são utilizados em páginas HTML, compondo de forma fragmentada, funcionalidades para interação do usuário no sistema. Pages, que usa React, faaz o recebimento dos dados dos usuários e fornece os dados solicitados sobre as vagas e creches em mapas.
Outro componente incluido para maior detalhamento é o Airflow, que contém DAGs (Directed Acyclic Graph) internas para trazer dados de do banco de dados municipal para o do Fila da Creche.</p>
<p>Logo abaixo, temos o diagrama de componentes para o Fila da Creche:</p>
<div align="center" style="margin: 2rem 0;">
    <img src="fig3-componentes.png">
    <span style="display:block;">
        Visão da informação do Dispatch
    </span>
</div>
<h3 id="código">Código</h3>
<pre>
Nesta etapa não faremos diagramas que apresentam detalhes da
implementação. Faremos isso mais adiante.
</pre>
<h3 id="visão-de-informação">Visão de Informação</h3>
<p>Como sabemos, a principal funcionalidade do projeto Fila da Creche é apresentar informações sobre o preenchimento de vagas em creches de São Paulo. Dessa forma, nesta seção abordaremos de maneira simplificada, o percurso habitual que os usuários percorrem na busca das informações disponibilizadas pela aplicação em estudo.</p>
<p>Na página inicial, o usuário se encontra uma breve apresentação da plataforma e, logo em seguida, duas caixas de seleção para mês e ano de nascimento da criança e um campo para digitar a rua e número de residência. A contulta pose ser feita quando os três campos forem preenchidos.</p>
<p>Após ser clicado no botão de consultar, é feito o recebimento dos dados e ,se bem-sucedida, mostrada as informações ao usuário, que pode voltar a página inicial e refazer a consulta. Caso o recebimento de dados não seja de sucesso, como por exemplo ocorra algum problema com conexão/internet, a mesma página de sucesso é exibida porém sem nenhum dos dados de vagas e creches requisitados.</p>
<p>Vejamos abaixo, uma máquina de estados que ilustra fluxo da informação da aplicação estudada, para principais interações de um usuário:</p>
<div align="center" style="margin: 2rem 0;">
    <img src="fig4-estados.png">
    <span style="display:block;">
        Visão da informação do Dispatch
    </span>
</div>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="https://joaoarthurbm.github.io/arqsoft-blog/posts/instrucoes/"><i class="fa fa-chevron-circle-left"></i> Instruções para escrever o post</a>
        </li>
        
        
        <li>
            <a href="https://joaoarthurbm.github.io/arqsoft-blog/posts/jenkins/">Documentação arquitetural do Jenkins <i class="fa fa-chevron-circle-right"></i> </a>
        </li>
        
    </ul>
</section>
  
    
    
  





</main>
    <footer>
        <h6>Copyright © Turma de Arquitetura de Software UFCG |
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="https://joaoarthurbm.github.io/arqsoft-blogindex.xml">Subscribe </a></h6>
    </footer>
</div>
<script src="https://joaoarthurbm.github.io/arqsoft-blog/js/scripts.js"></script>

</body>

</html>

