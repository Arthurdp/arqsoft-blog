<!doctype html>

<html lang="en">

<head>
  <title>Documentação Arquitetural - Deno - Arquitetura de Software</title>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Documentação arquitetural produzida pelas turmas de Arquitetura de Software - Computação @ UFCG." />
<meta name="author" content="Example" /><meta property="og:title" content="Documentação Arquitetural - Deno" />
<meta property="og:description" content="Autores Este documento foi produzido por Flávio Roberto Pires Quirino Farias.
 Matrícula: 117111444 Contato: farias.farias@ccc.ufcg.edu.br Projeto documentado: https://github.com/denoland/deno/  Descrição Arquitetural &ndash; Deno Este documento descreve parte da arquitetura do projeto Deno." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://joaoarthurbm.github.io/arqsoft-blog/posts/deno/" />
<meta property="article:published_time" content="2021-08-02T00:00:00-03:00" />
<meta property="article:modified_time" content="2021-08-02T00:00:00-03:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Documentação Arquitetural - Deno"/>
<meta name="twitter:description" content="Autores Este documento foi produzido por Flávio Roberto Pires Quirino Farias.
 Matrícula: 117111444 Contato: farias.farias@ccc.ufcg.edu.br Projeto documentado: https://github.com/denoland/deno/  Descrição Arquitetural &ndash; Deno Este documento descreve parte da arquitetura do projeto Deno."/>

<meta name="generator" content="Hugo 0.75.1" />
    

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://joaoarthurbm.github.io/arqsoft-blog/fontawesome/css/all.min.css" />
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  
  
  <link rel="stylesheet" type="text/css" href="https://joaoarthurbm.github.io/arqsoft-blog/css/styles.css" /></head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="https://joaoarthurbm.github.io/arqsoft-blog/">Arquitetura de Software</a>
            </h1>

      <ul id="social-media">
             <li>
               <a href="https://github.com/joaoarthurbm/arqsoft-blog" title="GitHub">
               <i class="fab fa-github fa-lg"></i>
               </a>
             </li>
      </ul>
      
      <p><em>Conteúdo produzido pelas turmas de Arquitetura de Software - Computação @ UFCG</em></p>
      
    </header>

    
<nav>
    <ul>
        
    </ul>
</nav>


    <main>




<article>

    <h1>Documentação Arquitetural - Deno</h1>

    
      <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2021-08-02T00:00:00-03:00">Aug 2, 2021</time>
        </li>
        

        

        <li>6 minutes read</li>
    </ul>
</aside>

    

    


    <h1 id="autores">Autores</h1>
<p>Este documento foi produzido por Flávio Roberto Pires Quirino Farias.</p>
<ul>
<li>Matrícula: 117111444</li>
<li>Contato: <a href="mailto:farias.farias@ccc.ufcg.edu.br">farias.farias@ccc.ufcg.edu.br</a></li>
<li>Projeto documentado: <a href="https://github.com/denoland/deno/">https://github.com/denoland/deno/</a></li>
</ul>
<h1 id="descrição-arquitetural----deno">Descrição Arquitetural &ndash; Deno</h1>
<p>Este documento descreve parte da arquitetura do projeto <a href="https://github.com/denoland/deno/">Deno</a>. Essa descrição foi baseada principalmente no modelo <a href="https://c4model.com/">C4</a>.</p>
<h2 id="descrição-geral-sobre-o-deno">Descrição Geral sobre o Deno</h2>
<p>Deno é um simples, moderno e seguro runtime para JavaScript e TypeScript que funciona em V8 Chromium Engine e é feito na linguagem de programação Rust. As funcionalidades do Deno são projetadas para aprimorar as funcionalidades do Node.js.</p>
<h2 id="deno">Deno</h2>
<h3 id="principais-funcionalidades-e-recursos-do-deno-são">Principais funcionalidades e recursos do Deno são:</h3>
<ul>
<li>Seguro por padrão. O Deno requer permissões explicitas para acessar arquivos, rede ou ambiente.</li>
<li>Tem suporte ao Typescript;</li>
<li>Tem um conjunto de modulos padrão, chamados de standard modules ou STD, que tem funcionalidade garantida com o Deno.</li>
<li>Tem funcionalidades internas como um verificador de dependencias (deno info) e um formatador de código (demo fmt).</li>
</ul>
<h2 id="objetivo-geral">Objetivo Geral</h2>
<ul>
<li>O Deno visa ser um ambiente de script produtivo e seguro para o programador moderno.</li>
</ul>
<h2 id="objetivos-específicos">Objetivos Específicos</h2>
<ul>
<li>Gerar apenas um único executável (deno).</li>
<li>Fornecer padrões de segurança:
Sem permissões específicas, os scripts não podem acessar arquivos, o ambiente, ou a rede.</li>
<li>Compatibilidade com o navegador: O subconjunto de programas Deno que são escritos completamente em Javascript e não usam o namespace global do Deno, deve ser capaz de ser executado sem alterações em um navegador moderno.</li>
<li>Fornecer ferramentas integradas como testes de unidade, formatação de código e linting para melhorar a experiência de desenvolvimento</li>
<li>Ser capaz de servir HTTP eficientemente.</li>
</ul>
<h2 id="contexto">Contexto</h2>
<p>O Deno é um ambiente de execução de Javascript (TS)/Typescript (TS) que utiliza o V8 engine para executar os códigos JS. Porém o V8 não suporta código TS, então todo código TS precisa ser convertido em JS para ser carregado e executado pelo V8. No entanto, Deno é escrito em Rust e o V8 em C++. Para que eles possam trabalhar juntos, é utilizado o rusty_v8, uma biblioteca que permite que o rust interaja com a API em C++ do V8.</p>
<p>Outra característica do Deno é que sua biblioteca padrão (standard library ou STD) oferece funcionalidades completamente assíncronas. Isso é possível porque Deno utiliza Tokio, um ambiente de execução assíncrono para Rust, usado para criar e lidar com eventos. Ele permite que o Deno crie tarefas em um pool de threads interno e receba notificações para processar a saída após a conclusão de cada tarefa.</p>
<p><img src="deno_context.png" alt="asd"></p>
<p>Mais detalhadamente, no diagrama de contexto, vemos o Deno, que é o sistema abordado nesse documento, e suas três principais dependencias externas, além de um usuário comum que interage com o Deno.</p>
<h3 id="tokio">Tokio</h3>
<p>Tokio é parte fundamental do Deno. Deno tenta evitar callbacks sempre que possível. Para isso, é necessário a ajuda do Tokio no uso de funções assíncronas equivalentes para funções síncronas usadas comumente. Por exemplo, Tokio envolve uma chamada de sistema OS em uma função assíncrona.</p>
<h3 id="v8-engine">V8 engine</h3>
<p>Apesar da grande importância do Tokio, V8 é a biblioteca mais importante do Deno. V8 é onde o código Javascript é executado. Sem isso, o Deno não funcionaria.</p>
<p>V8 é um JavaScript e WebAssembly engine de código aberto de alto desempenho do Google, escrito em C ++, que analisa e executa códigos de script. Também fornece regras sobre como a memória é acessada, como o programa pode interagir com o sistema operacional do computador e sobre a sintaxe do programa. O V8 pode ser executado de forma autônoma ou pode ser incorporado a qualquer aplicativo C ++.</p>
<h3 id="rusty_v8">Rusty_V8</h3>
<p>Rusty_v8 é uma parte do projeto Deno, mas não está localizado dentro do repositório principal. Sendo assim considerado um componente de terceiros. Como dito anteriormente, Deno é escrito em Rust, equanto V8 é escrito em C++. Para fazê-los interagir, rusty_v8 foi criado. O principal objetivo da biblioteca rusty_v8 é fornecer uma interface em Rust para a API em C++ do V8.</p>
<h2 id="c0ntainer">C0ntainer</h2>
<p>Quando observamos os containers que formam o Deno. Podemos dividi-los em 4 partes principais:</p>
<ul>
<li>Frontend: Formado pelo V8 que executa os códigos JS/TS. É a parte não previligiada, ou seja, não tem acesso a rede, ao sistema de arquivos, nem nada fora do sandbox do Deno.</li>
<li>Backend: Formado pelo próprio Deno em Rust;</li>
<li>Rusty_V8: Funciona como interface entre o Rust e a API do V8 em C++.</li>
<li>IO Assíncrono: A parte assíncrona do Deno que é gerenciada através do Tokio.</li>
</ul>
<p>A seguir, o diagrama de Container do Deno.</p>
<p><img src="deno_container.png" alt="asd"></p>
<h2 id="componente">Componente</h2>
<p>Vamos começar com a arquitetura de alto nível do Deno. Podemos dizer que o Deno consiste de dois tipos de componentes:</p>
<ul>
<li>
<p>Componentes próprios: Esses componentes fazem parte do projeto do Deno, ou seja, estão presentes em seu principal <a href="https://github.com/denoland/deno">repositório no Github</a>. Com exceção do STD (biblioteca padrão ou standard library), que é versionada de forma indepente do Deno, mas isso mudará uma vez que a biblioteca esteja estabilizada. A maioria desses componentes são escritos em Rust e Javascript/Typescript.</p>
</li>
<li>
<p>Componentes de terceiros: Partes imprecindíveis do Deno, como Tokio e V8 engine. Sem esses componentes o Deno não funcionaria.</p>
</li>
</ul>
<p>Para o diagrama de componentes, vamos focar no Deno e abordar apenas os componentes próprios.</p>
<p><img src="deno_component.png" alt="asd"></p>
<p>A seguir uma breve descrição das principais partes formam Deno.</p>
<h3 id="cli">CLI</h3>
<p>CLI implementa a maioria das funcionalidades do Deno que são voltadas para o usuário, sendo também uma das maiores partes do Deno. Também funciona como uma ligação entre as outras partes. ClI é uma espécie de orquestrador e executor. Ele orquestra a execução de programas TS/JS com a ajuda de serviços próprios e de todos serviços das outras partes do Deno.</p>
<h3 id="core">Core</h3>
<p>O Core fornece serviços importantes para a CLI como a interface para V8 API mencionada anteriormente, modulos, JsRuntime, etc. Também oferece serviços que podem ser chamados tanto em Rust como em JavaScript.</p>
<h3 id="runtime">Runtime</h3>
<p>Runtime é o ambiente de execução do Deno que consiste das principais funcionalidades do Deno escrito em JavaScipt puro.
O Runtime fornece a maior parte da API da Deno que pode ser chamada do programa do usuário. O tempo de execução também implementa os ops de baixo nível do Rust.</p>
<h3 id="std">STD</h3>
<p>É a biblioteca padrão do Deno implementada em TypeScript. Ela consiste de modulos que não têm depêndencias externas e que são revisados pela equipe do Deno. O objetivo é ter um conjunto padrão de alta qualidade de código que possa ser usado em todos os projetos do Deno sem preocupações.</p>
<h1 id="referências">Referências</h1>
<p>Language Bindings</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Language_binding#:~:text=Binding%20generally%20refers%20to%20a,be%20used%20in%20another%20language.">Wiki Language Bindings</a></li>
</ul>
<p>V8</p>
<ul>
<li><a href="https://developers.google.com/apps-script/guides/v8-runtime">V8 Runtime Overview</a></li>
<li><a href="https://v8.dev/">what is v8?</a></li>
</ul>
<p>Deno</p>
<ul>
<li><a href="https://deno.land/manual@v1.0.0/introduction">Deno Manual</a></li>
<li><a href="https://choubey.gitbook.io/internals-of-deno/architecture/chapter-cover-page">Deno Internals</a></li>
<li><a href="https://medium.com/deno-the-complete-reference/the-internals-of-deno-5bdc1f074792">The internals of Deno</a></li>
<li><a href="https://www.syncfusion.com/succinctly-free-ebooks/deno-succinctly/introducing-deno">Introducing Deno</a></li>
<li><a href="https://denolib.gitbook.io/guide/">A guide to Deno core</a></li>
<li><a href="https://medium.com/deno-tutorial/deno-architecture-8551fb3be80e">What happens in the backstage of Deno?</a></li>
<li><a href="https://www.codegram.com/blog/first-thoughts-about-deno/">First Thoughts About Deno</a></li>
<li><a href="https://github.com/denoland/deno">Deno Repository</a></li>
<li><a href="https://www.youtube.com/watch?v=AOvg_GbnsbA&amp;t=2113s">Deno internals - how modern JS/TS runtime is built</a></li>
</ul>
<p>C4 Model</p>
<ul>
<li><a href="https://c4model.com/">C4 Model</a></li>
<li><a href="https://www.youtube.com/watch?v=x2-rSnhpw0g">Visualising software architecture with the C4 model</a></li>
</ul>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="https://joaoarthurbm.github.io/arqsoft-blog/posts/elasticsearch/"><i class="fa fa-chevron-circle-left"></i> Documentação Arquitetural - Elasticsearch</a>
        </li>
        
        
        <li>
            <a href="https://joaoarthurbm.github.io/arqsoft-blog/posts/locust/">Descrição Arquitetural do Locust <i class="fa fa-chevron-circle-right"></i> </a>
        </li>
        
    </ul>
</section>
  
    
    
  





</main>
    <footer>
        <h6>Copyright © Turma de Arquitetura de Software UFCG |
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="https://joaoarthurbm.github.io/arqsoft-blogindex.xml">Subscribe </a></h6>
    </footer>
</div>
<script src="https://joaoarthurbm.github.io/arqsoft-blog/js/scripts.js"></script>

</body>

</html>

