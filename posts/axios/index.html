<!doctype html>

<html lang="en">

<head>
  <title>Documento Arquitetural do Axios - Arquitetura de Software</title>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Documentação arquitetural produzida pelas turmas de Arquitetura de Software - Computação @ UFCG." />
<meta name="author" content="Example" /><meta property="og:title" content="Documento Arquitetural do Axios" />
<meta property="og:description" content="Autores Este documento foi produzido por Marcus Vinícius de Farias Barbosa.
 Matrícula: 117110906 Contato: marcus.barbosa@ccc.ufcg.edu.br Projeto documentado: https://github.com/axios/axios  Descrição Arquitetural &ndash; Axios Este documento descreve a arquitetura do Axios." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://joaoarthurbm.github.io/arqsoft-blog/posts/axios/" />
<meta property="article:published_time" content="2020-10-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-10-12T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Documento Arquitetural do Axios"/>
<meta name="twitter:description" content="Autores Este documento foi produzido por Marcus Vinícius de Farias Barbosa.
 Matrícula: 117110906 Contato: marcus.barbosa@ccc.ufcg.edu.br Projeto documentado: https://github.com/axios/axios  Descrição Arquitetural &ndash; Axios Este documento descreve a arquitetura do Axios."/>

<meta name="generator" content="Hugo 0.75.1" />
    

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://joaoarthurbm.github.io/arqsoft-blog/fontawesome/css/all.min.css" />
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  
  
  <link rel="stylesheet" type="text/css" href="https://joaoarthurbm.github.io/arqsoft-blog/css/styles.css" /></head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="https://joaoarthurbm.github.io/arqsoft-blog/">Arquitetura de Software</a>
            </h1>

      <ul id="social-media">
             <li>
               <a href="https://github.com/joaoarthurbm/arqsoft-blog" title="GitHub">
               <i class="fab fa-github fa-lg"></i>
               </a>
             </li>
      </ul>
      
      <p><em>Conteúdo produzido pelas turmas de Arquitetura de Software - Computação @ UFCG</em></p>
      
    </header>

    
<nav>
    <ul>
        
    </ul>
</nav>


    <main>




<article>

    <h1>Documento Arquitetural do Axios</h1>

    
      <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2020-10-12T00:00:00Z">Oct 12, 2020</time>
        </li>
        

        

        <li>5 minutes read</li>
    </ul>
</aside>

    

    


    <h1 id="autores">Autores</h1>
<p>Este documento foi produzido por Marcus Vinícius de Farias Barbosa.</p>
<ul>
<li>Matrícula: 117110906</li>
<li>Contato: <a href="mailto:marcus.barbosa@ccc.ufcg.edu.br">marcus.barbosa@ccc.ufcg.edu.br</a></li>
<li>Projeto documentado: <a href="https://github.com/axios/axios">https://github.com/axios/axios</a></li>
</ul>
<h1 id="descrição-arquitetural----axios">Descrição Arquitetural &ndash; Axios</h1>
<p>Este documento descreve a arquitetura do <a href="https://github.com/axios/axios">Axios</a>.
As descrições e diagramas aqui presentes foram produzidos usando como base o modelo <a href="https://c4model.com/">C4</a>.</p>
<h2 id="descrição-geral">Descrição Geral</h2>
<p>O Axios é um cliente HTTP, que pode ser utilizado tanto no navegador quando em projetos Node.js. Ele é disponibilizado como um pacote npm, e fornece uma API para o envio de requisições que lida com <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest">XMLHttpRequest</a> do navegador e com o <a href="https://nodejs.org/api/http.html">http</a> do Node.js, desse modo o mesmo código pode ser utilizado no lado cliente e no lado servidor.</p>
<p>De acordo com sua documentação oficial, o Axios conta com as seguintes funcionalidades:</p>
<ul>
<li>Faz requisições com XMLHttpRequest a partir do browser;</li>
<li>Faz requisições http a partir do node.js;</li>
<li>Tem suporte à API <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>;</li>
<li>Intercepta requisições e respostas;</li>
<li>Transforma dados de requisições e respostas;</li>
<li>Cancela requisições;</li>
<li>Faz transformações automáticas para dados JSON;</li>
<li>Fornecer proteção no lado cliente contra <a href="https://pt.wikipedia.org/wiki/Cross-site_request_forgery">XSRF</a>.</li>
</ul>
<p>Além disso, por ser uma biblioteca bastante conhecida e utilizada no meio do desenvolvimento web, existem diversas bibliotecas criadas pela comunidade que interagem com o Axios e adicionam a ele novos recursos, que vão desde interceptores de requisições a cache.</p>
<p>Mais informações podem ser encontradas <a href="https://github.com/axios/axios">aqui</a>.</p>
<h2 id="objetivos">Objetivos</h2>
<p>Oferecer uma biblioteca baseada em Promises para envio de requisições HTTP de forma simples e sem que o usuário se preocupe se a requisição será feita a partir do navegador ou de um servidor Node.js.</p>
<h2 id="contexto">Contexto</h2>
<p>Como o Axios se trata de uma biblioteca, os usuários finais são os desenvolvedores de <em>software</em>, que a importam em seus projetos e assim fazem uso de suas funcionalidades.</p>
<p>Em relação à comunicação com sistemas externos, a principal interação realizada é com o servidor alvo das requisições definido pelo usuário. Esse servidor precisa dispor de uma API HTTP, pois esse é o protocolo de comunicação utilizado pelo Axios em suas requisições.</p>
<p>A comunicação também é feita com <em>plugins</em> de terceiros, que são bibliotecas desenvolvidas para interagirem com os recursos do Axios e adicionam a ele novas funcionalidades como suporte a <em>cookies</em>, manipulação de <em>cache</em> e comunicação com <em>middlewares</em>.</p>
<p>O diagrama de contexto abaixo ilustra quais entidades interagem com o Axios.</p>
<p><img src="context-diagram.png" alt="Diagrama de Contexto"></p>
<h2 id="containers"><em>Containers</em></h2>
<p>Como o Axios não é um sistema de <em>software</em>, ou seja, não é composto por aplicações nem possui armazenamento de dados, mas uma biblioteca, ele é constituído de um único <em>container</em> que possui todos os módulos de código necessários para seu funcionamento e implementação de suas funcionalidades.</p>
<p>A sua API disponibiliza os seguintes recursos:</p>
<h4 id="envio-de-requisições">Envio de requisições</h4>
<h5 id="axiosconfig">axios(config)</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// Exemplo de uma requisição POST para um serviço local
</span><span style="color:#75715e"></span><span style="color:#a6e22e">axios</span>({
  <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;post&#39;</span>,
  <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/user/12345&#39;</span>,
  <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">firstName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Fred&#39;</span>,
    <span style="color:#a6e22e">lastName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Flintstone&#39;</span>
  }
});
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// Exemplo de uma requisição GET para um serviço remoto
</span><span style="color:#75715e"></span><span style="color:#a6e22e">axios</span>({
  <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;get&#39;</span>,
  <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;http://bit.ly/2mTM3nY&#39;</span>,
  <span style="color:#a6e22e">responseType</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;stream&#39;</span>
})
  .<span style="color:#a6e22e">then</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">response</span>) {
    <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">pipe</span>(<span style="color:#a6e22e">fs</span>.<span style="color:#a6e22e">createWriteStream</span>(<span style="color:#e6db74">&#39;ada_lovelace.jpg&#39;</span>))
  });
</code></pre></div><h5 id="axiosurl-config">axios(url[, config])</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// Exemplo de envio de uma requisição GET, utilizando o método me envio padrão
</span><span style="color:#75715e"></span><span style="color:#a6e22e">axios</span>(<span style="color:#e6db74">&#39;/user/12345&#39;</span>);
</code></pre></div><h4 id="criação-de-instância-axios">Criação de instância Axios</h4>
<h5 id="axioscreateconfig">axios.create([config])</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// Exemplo de criação de uma instância Axios
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">instance</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">axios</span>.<span style="color:#a6e22e">create</span>({
  <span style="color:#a6e22e">baseURL</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;https://some-domain.com/api/&#39;</span>,
  <span style="color:#a6e22e">timeout</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1000</span>,
  <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {<span style="color:#e6db74">&#39;X-Custom-Header&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;foobar&#39;</span>}
});
</code></pre></div><p>Mais detalhes sobre a API podem ser encontrados <a href="https://github.com/axios/axios#axios-api">aqui</a>.</p>
<h3 id="implantação">Implantação</h3>
<p>A sua implantação também é simples se comparado com sistemas de <em>software</em>, pois, tendo sido instalado no projeto através de algum gerenciador de pacotes (como npm e yarn) ou pelo CDN, é preciso apenas se atentar para os requisitos de ambiente: o navegador e sua versão, e a versão no Node.js. Como essas informações são voláteis e dependem da versão atual do Axios, é recomendado verificá-las na <a href="https://github.com/axios/axios">documentação</a> oficial.</p>
<p>O diagrama de implantação abaixo ilustra como é feita a implantação do Axios. Nele é possível notar que a biblioteca pode ser utilizada tanto em aplicações que são executadas por um navegador quanto em aplicações Node.js em um servidor. Além disso, nota-se também que os <em>plugins</em> utilizados estão no mesmo nível que o Axios e são importados e utilizados de modo semelhante a ele.</p>
<p><img src="deployment-diagram.png" alt="Diagrama de Implantação"></p>
<h2 id="componentes">Componentes</h2>
<p>O Axios é composto pelos seguintes componentes:</p>
<ul>
<li><strong>Axios</strong>: fornece uma instância Axios com todos os métodos necessários configurados.</li>
<li><em><strong>Core</strong></em>: contém a lógica de domínio do Axios. É nesse componente em que são implementados o gerenciador de interceptadores, a manipulação de configurações e envio de requisições.</li>
<li><em><strong>Defaults</strong></em>: define as configurações iniciais para a criação de uma instância Axios, como os <em>aliases</em> para os métodos de requisição e a definição do <em>adapter</em> adequado.</li>
<li><em><strong>Adapters</strong></em>: responsável pelo envio de requisições e resolução de <em>Promises</em> retornadas assim que uma resposta é recebida. Existe um adapter para lidar com http do Node.js e outro para lidar com o XHR do navegador.</li>
<li><em><strong>Helpers</strong></em>: dispõe de implementações genéricas que não são específicas para a lógica de domínio, mas que são utilizadas por toda a aplicação, como gerenciamento de <em>cookies</em>, <em>parsers</em> de cabeçalhos HTTP e <em>polyfills</em> do navegador.</li>
</ul>
<p>O diagrama de componentes abaixo ilustra os componentes apresentados e sua comunicação.</p>
<p><img src="components-diagram.png" alt="Diagrama de Componentes"></p>
<h2 id="visão-de-informação">Visão de Informação</h2>
<p>Dentre os vários tipos de dados que o Axios manipula, o que foi escolhido para ser apresentado nessa seção foi o dado que representa uma requisição, desde a chamada ao método de envio ao seu dispacho para o destinatário.</p>
<p>Através do seguinte fluxo de processamento de uma requisição é possível notar os estados que ela assume ao logo do processo:</p>
<ul>
<li>O método para envio de uma requisição é chamado, e inicia-se o processo de configuração da requisição;</li>
<li>O Axios verifica a existência de cabeçalhos e os manipula, adicionando cabeçalhos necessários;</li>
<li>Os dados (cabeçalhos e informações enviadas no corpo) da requisição são transformados para um formato padrão;</li>
<li>É validado se esses dados são do tipo <em>string</em>, <em>ArrayBuffer</em>, <em>Buffer</em> ou <em>Stream</em>:
<ul>
<li>Se sim, a requisição continua sendo processada;</li>
<li>Se não, seu processo de envio é cancelado;</li>
</ul>
</li>
<li>São definidos dados de autenticação básica HTTP na requisição;</li>
<li>O endereço (URL) do destinatário da requisição é formatado, bem como o protocolo utilizado;</li>
<li>Se foi definido algum <em>proxy</em>, a requisição recebe toda a configuração referente a ele, como porta, caminho e nome;</li>
<li>A requisição é então enviada.</li>
</ul>
<p>O diagrama abaixo ilustra o que foi explanado acima, dando enfoque nos estados assumidos por uma requisição.</p>
<p><img src="fsm-diagram.png" alt="Diagrama de Máquina de Estados"></p>
<h2 id="contribuições-concretas">Contribuições Concretas</h2>
<p>Ainda não foram abertas PRs para o repositório oficial do Axios porque ainda é necessário validar a documentação já
produzida e produzir uma versão em inglês.</p>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="https://joaoarthurbm.github.io/arqsoft-blog/posts/matheusaraujo/"><i class="fa fa-chevron-circle-left"></i> UFCGPro</a>
        </li>
        
        
        <li>
            <a href="https://joaoarthurbm.github.io/arqsoft-blog/posts/eureca-da_coleta_de_dados_ao_backend/">Projeto Eureca - Da coleta de dados ao backend <i class="fa fa-chevron-circle-right"></i> </a>
        </li>
        
    </ul>
</section>
  
    
    
  





</main>
    <footer>
        <h6>Copyright © Turma de Arquitetura de Software UFCG |
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="https://joaoarthurbm.github.io/arqsoft-blogindex.xml">Subscribe </a></h6>
    </footer>
</div>
<script src="https://joaoarthurbm.github.io/arqsoft-blog/js/scripts.js"></script>

</body>

</html>

